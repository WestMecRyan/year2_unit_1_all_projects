<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Superhero Squad</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        form { margin-bottom: 20px; }
        input, button { margin: 5px 0; }
        #heroList { display: flex; flex-wrap: wrap; }
        .hero-card { border: 1px solid #ddd; padding: 10px; margin: 10px; width: 200px; }
    </style>
</head>
<body>
    <h1>Superhero Squad</h1>

    <h2>Add New Hero</h2>
    <form id="addHeroForm">
        <input type="text" id="heroName" placeholder="Hero Name" required>
        <input type="text" id="realName" placeholder="Real Name" required>
        <button type="submit">Add Hero</button>
    </form>

    <h2>Update Hero Power</h2>
    <form id="updateHeroPowerForm">
        <input type="text" id="updateHeroName" placeholder="Hero Name" required>
        <input type="text" id="heroPower" placeholder="Hero Power" required>
        <button type="submit">Update Power</button>
    </form>

    <h2>Hero List</h2>
    <div id="heroList"></div>

    <script>
        // Function to fetch and display heroes
        async function displayHeroes() {
            const response = await fetch('/heroes');
            const heroes = await response.json();
            const heroList = document.getElementById('heroList');
            heroList.innerHTML = '';
            heroes.forEach(hero => {
                const heroCard = document.createElement('div');
                heroCard.className = 'hero-card';
                heroCard.innerHTML = `
                    <h3>${hero.name}</h3>
                    <p>Real Name: ${hero.realName}</p>
                    <p>Power: ${hero.power || 'Unknown'}</p>
                `;
                heroList.appendChild(heroCard);
            });
        }

        // Add hero form submission
        document.getElementById('addHeroForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const name = document.getElementById('heroName').value;
            const realName = document.getElementById('realName').value;
            await fetch('/heroes', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ name, realName, power: '' })
            });
            displayHeroes();
            e.target.reset();
        });

        // Update hero power form submission
        document.getElementById('updateHeroPowerForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const name = document.getElementById('updateHeroName').value;
            const power = document.getElementById('heroPower').value;
            await fetch(`/heroes/${name}`, {
                method: 'PUT',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ power })
            });
            displayHeroes();
            e.target.reset();
        });

        // Initial display of heroes
        displayHeroes();
    </script>
</body>
</html>